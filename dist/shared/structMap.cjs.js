"use strict";const c=t=>t.kind.endsWith("[]"),x=t=>c(t.attr),p=t=>t.kind!=="struct"&&!c(t),u=t=>t.kind==="struct",k=t=>t.kind==="struct[]",S=t=>t.attr.kind==="struct[]",l=t=>{var a;return((a=m[t.attr.kind])==null?void 0:a.hasText)===!0},f=t=>p(t)&&T(t),T=t=>m[t.kind].type==="number",A=t=>m[t.kind.replace("[]","")].type==="number",n={type:"string",hasText:!0},e={type:"number",hasText:!1},r={type:"number",hasText:!1},m={string:n,number:{type:"number",hasText:!1},boolean:{type:"boolean"},armor:e,actor:e,class:e,enemy:e,skill:e,state:e,item:e,weapon:e,common_event:e,switch:e,variable:e,troop:e,multiline_string:n,file:{type:"string",hasText:!1},"file[]":{type:"string",hasText:!1},"multiline_string[]":n,"string[]":n,combo:n,select:n,any:n,struct:{type:"struct"},"actor[]":r,"enemy[]":r,"class[]":r,"skill[]":r,"state[]":r,"item[]":r,"weapon[]":r,"common_event[]":r,"troop[]":r,"armor[]":r,"switch[]":r,"variable[]":r,"number[]":r},g=t=>d(t,a=>!0,a=>!0),d=(t,a,s)=>{const y=[],b=[],h=[],P=[];return t.forEach(i=>{if(u(i.attr))y.push({name:i.name,attr:i.attr});else if(S(i))b.push(i);else if(x(i)){if(s(i))return void P.push(i)}else a(i)&&h.push(i)}),{structs:y,structArrays:b,scalars:h,scalarArrays:P}};function o(t){const a=t.map(s=>[s.name,s.attr]);return Object.fromEntries(a)}const v=t=>({...t.text?{text:t.text}:{},...t.desc?{desc:t.desc}:{}});exports.classifyFileParams=t=>d(t,a=>a.attr.kind==="file",a=>a.attr.kind==="file[]"),exports.classifyPluginParams=g,exports.classifyTextParams=t=>d(t,a=>l(a),a=>l(a)),exports.convertPluginCommandSchema=t=>({...v(t),command:t.command,args:o(t.args)}),exports.convertStructSchema=t=>({struct:t.struct,params:o(t.params)}),exports.createClassifiedStructMap=t=>new Map(t.map(a=>[a.struct,g(a.params)])),exports.createStructMap=t=>new Map(t.map(a=>[a.struct,a.params.map(s=>s.attr)])),exports.hasNumberValueParam=t=>c(t)?A(t):f(t),exports.hasScalarAttr=t=>p(t.attr),exports.hasStructAttr=t=>u(t.attr)||k(t.attr),exports.hasTextAttr=l,exports.isArrayAttr=x,exports.isArrayParam=c,exports.isArrayParamEx=(t,a)=>!!c(t)&&t.kind===`${a}[]`,exports.isFileAttr=t=>t.attr.kind==="file"||t.attr.kind==="file[]",exports.isNumberArrayParam=A,exports.isNumberAttr=t=>{var a;return((a=m[t.attr.kind])==null?void 0:a.type)==="number"},exports.isNumberValueParam=f,exports.isNumberValueParamEx=T,exports.isScalarParam=p,exports.isStringArrayParam=t=>m[t.kind.replace("[]","")].type==="string",exports.isStringValueParam=t=>m[t.kind].type==="string",exports.isStructArrayAttr=S,exports.isStructArrayParam=k,exports.isStructAttr=t=>u(t.attr),exports.isStructParam=u,exports.isVariableAttr=t=>t.attr.kind==="variable"||t.attr.kind==="variable[]",exports.paramHasText=t=>{var a;return((a=m[t.kind])==null?void 0:a.hasText)===!0},exports.toArrayPluginParam=t=>Object.entries(t).map(([a,s])=>({name:a,attr:s})),exports.toObjectPluginParams=function(t){const a=t.map(s=>[s.name,s.attr]);return Object.fromEntries(a)},exports.toObjectPluginParamsOld=o;
